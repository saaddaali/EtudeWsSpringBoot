{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { reservationService } from \"../services/reservationService\";\nexport const useReservation = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    clientName: \"\",\n    email: \"\",\n    phone: \"\",\n    roomType: \"SIMPLE\",\n    startDate: \"\",\n    endDate: \"\",\n    preferences: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [reservations, setReservations] = useState([]);\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const loadReservations = async () => {\n    try {\n      setLoading(true);\n      const data = await reservationService.getReservations();\n      console.log(\"Réservations chargées:\", data);\n      setReservations(data || []);\n      setError(null);\n      return data;\n    } catch (error) {\n      setError(\"Erreur lors du chargement des réservations\");\n      console.error(\"Erreur loadReservations:\", error);\n      return [];\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      setLoading(true);\n      const newReservation = await reservationService.createReservation(formData);\n      console.log(\"Nouvelle réservation créée:\", newReservation);\n\n      // Recharger les réservations\n      await loadReservations();\n\n      // Réinitialiser le formulaire\n      setFormData({\n        clientName: \"\",\n        email: \"\",\n        phone: \"\",\n        roomType: \"SIMPLE\",\n        startDate: \"\",\n        endDate: \"\",\n        preferences: \"\"\n      });\n      setError(null);\n    } catch (error) {\n      setError(\"Erreur lors de la création de la réservation\");\n      console.error(\"Erreur handleSubmit:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const deleteReservation = async id => {\n    try {\n      setLoading(true);\n      await reservationService.deleteReservation(id);\n      await loadReservations();\n      setError(null);\n    } catch (error) {\n      setError(\"Erreur lors de la suppression de la réservation\");\n      console.error(\"Erreur deleteReservation:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const updateReservation = async (id, updatedData) => {\n    try {\n      setLoading(true);\n      await reservationService.updateReservation(id, updatedData);\n      await loadReservations();\n      setError(null);\n    } catch (error) {\n      setError(\"Erreur lors de la mise à jour de la réservation\");\n      console.error(\"Erreur updateReservation:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getReservationById = async id => {\n    try {\n      var _data$clientName, _data$email, _data$phone, _data$roomType, _data$startDate, _data$endDate, _data$preferences;\n      setLoading(true);\n      const data = await reservationService.getReservationById(id);\n      const formattedData = {\n        clientName: (_data$clientName = data === null || data === void 0 ? void 0 : data.clientName) !== null && _data$clientName !== void 0 ? _data$clientName : \"\",\n        email: (_data$email = data === null || data === void 0 ? void 0 : data.email) !== null && _data$email !== void 0 ? _data$email : \"\",\n        phone: (_data$phone = data === null || data === void 0 ? void 0 : data.phone) !== null && _data$phone !== void 0 ? _data$phone : \"\",\n        roomType: (_data$roomType = data === null || data === void 0 ? void 0 : data.roomType) !== null && _data$roomType !== void 0 ? _data$roomType : \"SIMPLE\",\n        startDate: (_data$startDate = data === null || data === void 0 ? void 0 : data.startDate) !== null && _data$startDate !== void 0 ? _data$startDate : \"\",\n        endDate: (_data$endDate = data === null || data === void 0 ? void 0 : data.endDate) !== null && _data$endDate !== void 0 ? _data$endDate : \"\",\n        preferences: (_data$preferences = data === null || data === void 0 ? void 0 : data.preferences) !== null && _data$preferences !== void 0 ? _data$preferences : \"\"\n      };\n      setFormData(formattedData);\n      return formattedData;\n    } catch (error) {\n      setError(\"Erreur lors de la récupération de la réservation\");\n      console.error(\"Erreur getReservationById:\", error);\n      return {\n        clientName: \"\",\n        email: \"\",\n        phone: \"\",\n        roomType: \"SIMPLE\",\n        startDate: \"\",\n        endDate: \"\",\n        preferences: \"\"\n      };\n    } finally {\n      setLoading(false);\n    }\n  };\n  return {\n    formData,\n    setFormData,\n    handleInputChange,\n    handleSubmit,\n    loading,\n    error,\n    reservations,\n    loadReservations,\n    deleteReservation,\n    updateReservation,\n    getReservationById\n  };\n};\n_s(useReservation, \"VPcuPAn/7jMtWn6PTe8BPUsuXks=\");","map":{"version":3,"names":["useState","reservationService","useReservation","_s","formData","setFormData","clientName","email","phone","roomType","startDate","endDate","preferences","loading","setLoading","error","setError","reservations","setReservations","handleInputChange","e","name","value","target","prev","loadReservations","data","getReservations","console","log","handleSubmit","preventDefault","newReservation","createReservation","deleteReservation","id","updateReservation","updatedData","getReservationById","_data$clientName","_data$email","_data$phone","_data$roomType","_data$startDate","_data$endDate","_data$preferences","formattedData"],"sources":["/Users/soukaina/Desktop/hotel-reservation-management-rest/frontend/src/hooks/useReservation.js"],"sourcesContent":["import { useState } from \"react\";\nimport { reservationService } from \"../services/reservationService\";\n\nexport const useReservation = () => {\n  const [formData, setFormData] = useState({\n    clientName: \"\",\n    email: \"\",\n    phone: \"\",\n    roomType: \"SIMPLE\",\n    startDate: \"\",\n    endDate: \"\",\n    preferences: \"\",\n  });\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [reservations, setReservations] = useState([]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n  };\n\n  const loadReservations = async () => {\n    try {\n      setLoading(true);\n      const data = await reservationService.getReservations();\n      console.log(\"Réservations chargées:\", data);\n      setReservations(data || []);\n      setError(null);\n      return data;\n    } catch (error) {\n      setError(\"Erreur lors du chargement des réservations\");\n      console.error(\"Erreur loadReservations:\", error);\n      return [];\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      setLoading(true);\n      const newReservation = await reservationService.createReservation(\n        formData\n      );\n      console.log(\"Nouvelle réservation créée:\", newReservation);\n\n      // Recharger les réservations\n      await loadReservations();\n\n      // Réinitialiser le formulaire\n      setFormData({\n        clientName: \"\",\n        email: \"\",\n        phone: \"\",\n        roomType: \"SIMPLE\",\n        startDate: \"\",\n        endDate: \"\",\n        preferences: \"\",\n      });\n      setError(null);\n    } catch (error) {\n      setError(\"Erreur lors de la création de la réservation\");\n      console.error(\"Erreur handleSubmit:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const deleteReservation = async (id) => {\n    try {\n      setLoading(true);\n      await reservationService.deleteReservation(id);\n      await loadReservations();\n      setError(null);\n    } catch (error) {\n      setError(\"Erreur lors de la suppression de la réservation\");\n      console.error(\"Erreur deleteReservation:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const updateReservation = async (id, updatedData) => {\n    try {\n      setLoading(true);\n      await reservationService.updateReservation(id, updatedData);\n      await loadReservations();\n      setError(null);\n    } catch (error) {\n      setError(\"Erreur lors de la mise à jour de la réservation\");\n      console.error(\"Erreur updateReservation:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getReservationById = async (id) => {\n    try {\n      setLoading(true);\n      const data = await reservationService.getReservationById(id);\n      const formattedData = {\n        clientName: data?.clientName ?? \"\",\n        email: data?.email ?? \"\",\n        phone: data?.phone ?? \"\",\n        roomType: data?.roomType ?? \"SIMPLE\",\n        startDate: data?.startDate ?? \"\",\n        endDate: data?.endDate ?? \"\",\n        preferences: data?.preferences ?? \"\",\n      };\n      setFormData(formattedData);\n      return formattedData;\n    } catch (error) {\n      setError(\"Erreur lors de la récupération de la réservation\");\n      console.error(\"Erreur getReservationById:\", error);\n      return {\n        clientName: \"\",\n        email: \"\",\n        phone: \"\",\n        roomType: \"SIMPLE\",\n        startDate: \"\",\n        endDate: \"\",\n        preferences: \"\",\n      };\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return {\n    formData,\n    setFormData,\n    handleInputChange,\n    handleSubmit,\n    loading,\n    error,\n    reservations,\n    loadReservations,\n    deleteReservation,\n    updateReservation,\n    getReservationById,\n  };\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}